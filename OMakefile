# ------------------------------------------------------------
# rules
# ------------------------------------------------------------

public.Proof(files) =
	vo=$(addsuffix .vo,$(files))
	value $(vo)

%.vo %.glob: %.v
	coqc $<

.SCANNER: %.vo: %.v
	coqdep -w -coqlib /opt/local/lib/coq/ -I . $<

# ------------------------------------------------------------
FILES[] =
	Lambda
	Progress
	TypeInv
	TypeUniq
	Implement
#	Subst

.DEFAULT: $(Proof $(FILES))

.PHONY: clean
clean:
	rm -f *.vo *.glob *~ *.omc .omakedb .omakedb.lock